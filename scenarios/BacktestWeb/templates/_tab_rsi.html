<h2 class="mb-3">Parámetros de Índice de Fuerza Relativa (RSI)</h2>
<p class="alert alert-info">Define las condiciones de compra y venta basadas en los umbrales del RSI, utilizando la lógica de exclusividad.</p>

<div class="row">
         <div class="col-6 border-end">
                  <h4 class="mb-3 text-primary">Configuración Principal</h4>

                  <div class="row row-control align-items-center mb-3">
                           <div class="col-6"><label for="rsi" class="form-check-label fw-bold">Activar RSI:</label></div>
                           <div class="col-4">
                                    <div class="form-check form-switch">
                                             <input class="form-check-input" type="checkbox" role="switch" id="rsi" name="rsi" value="True" {% if config.rsi == True or config.rsi == 'True' %}checked{% endif %}>
                                    </div>
                           </div>
                           <div class="col-2">
                                    <span class="text-muted small">{% if comments.rsi %}<a href="#" title="{{ comments.rsi }}">?</a>{% endif %}</span>
                           </div>
                  </div>

                  <div class="row row-control align-items-center mb-2">
                           <div class="col-6"><label for="rsi_period" class="form-label">Período de Cálculo (RSI Period):</label></div>
                           <div class="col-4">
                                    <input type="number" class="form-control" id="rsi_period" name="rsi_period" min="2" value="{{ config.rsi_period | default(14) }}">
                           </div>
                           <div class="col-2"><span class="text-muted small">{% if comments.rsi_period %}<a href="#" title="{{ comments.rsi_period }}">?</a>{% endif %}</span></div>
                  </div>

                  <div class="row row-control align-items-center mb-4">
                           <div class="col-6"><label for="rsi_high_level" class="form-label text-danger">Nivel Máximo (Sobrecompra):</label></div>
                           <div class="col-4">
                                    <input type="number" class="form-control" id="rsi_high_level" name="rsi_high_level" min="50" max="100" value="{{ config.rsi_high_level | default(80) }}">
                           </div>
                           <div class="col-2"><span class="text-muted small">{% if comments.rsi_high_level %}<a href="#" title="{{ comments.rsi_high_level }}">?</a>{% endif %}</span></div>
                  </div>
                  
                  <div class="row row-control align-items-center mb-2">
                           <div class="col-6"><label for="rsi_strength_threshold" class="form-label">Umbral de Fuerza:</label></div>
                           <div class="col-4">
                                    <input type="number" class="form-control" id="rsi_strength_threshold" name="rsi_strength_threshold" min="0" max="100" value="{{ config.rsi_strength_threshold | default(50) }}">
                           </div>
                           <div class="col-2"><span class="text-muted small">{% if comments.rsi_strength_threshold %}<a href="#" title="{{ comments.rsi_strength_threshold }}">?</a>{% endif %}</span></div>
                  </div>
                  <p class="text-muted small ms-5">Usado para buscar continuación (por encima de este valor).</p>

                  <div class="row row-control align-items-center mb-2">
                           <div class="col-6"><label for="rsi_low_level" class="form-label text-success">Nivel Mínimo (Sobreventa):</label></div>
                           <div class="col-4">
                                    <input type="number" class="form-control" id="rsi_low_level" name="rsi_low_level" min="0" max="50" value="{{ config.rsi_low_level | default(35) }}">
                           </div>
                           <div class="col-2"><span class="text-muted small">{% if comments.rsi_low_level %}<a href="#" title="{{ comments.rsi_low_level }}">?</a>{% endif %}</span></div>
                  </div>
                  <p class="text-muted small ms-5">Usado como filtro de precio 'barato' antes de la ruptura. (Sugerido 40/45).</p>
                  <p class="text-muted small ms-5 text-danger">⚠️ Se asume que esta variable es un filtro y NO la condición principal de Venta (usa 'Overbought').</p>
                  
         </div>

         <div class="col-6">
                  <h4 class="mb-3 text-dark">Lógica de Compra y Venta (Máx. 1 Opción por Grupo)</h4>
                  <p class="text-muted small">Selecciona una condición de activación por cada grupo (Compra/Venta).</p>

                  <h5 class="mt-4 text-success">Lógica de Compra (RSI Buy Logic)</h5>
                  <div class="row row-control align-items-center mb-4">
                           <div class="col-4"><label class="form-label fw-bold">Señal de Compra:</label></div>
                           <div class="col-8">
                                    <div class="btn-group" role="group" data-bs-toggle="buttons">
                                             
                                             <input type="radio" class="btn-check" name="rsi_buy_logic" id="rsi_minimo" value="rsi_minimo" 
                                                      {% if config.rsi_buy_logic == 'rsi_minimo' %}checked{% endif %}>
                                             <label class="btn btn-outline-success" for="rsi_minimo" title="RSI ≤ Nivel Mínimo (Oversold)">Mínimo</label>
                                             
                                             <input type="radio" class="btn-check" name="rsi_buy_logic" id="rsi_ascendente" value="rsi_ascendente" 
                                                      {% if config.rsi_buy_logic == 'rsi_ascendente' %}checked{% endif %}>
                                             <label class="btn btn-outline-success" for="rsi_ascendente" title="RSI cruza al alza el Nivel Mínimo">Ascendente</label>

                                             <input type="radio" class="btn-check" name="rsi_buy_logic" id="rsi_buy_none" value="None" 
                                                      {% if config.rsi_buy_logic == 'None' or config.rsi_buy_logic == '' or config.rsi_buy_logic is none %}checked{% endif %}>
                                             <label class="btn btn-outline-secondary" for="rsi_buy_none">Ninguna</label>
                                    </div>
                           </div>
                  </div>

                  <h5 class="mt-4 text-danger">Lógica de Venta / Bloqueo (RSI Sell Logic)</h5>
                  <div class="row row-control align-items-center mb-4">
                           <div class="col-4"><label class="form-label fw-bold">Señal de Bloqueo:</label></div>
                           <div class="col-8">
                                    <div class="btn-group" role="group" data-bs-toggle="buttons">
                                             
                                             <input type="radio" class="btn-check" name="rsi_sell_logic" id="rsi_maximo" value="rsi_maximo" 
                                                      {% if config.rsi_sell_logic == 'rsi_maximo' %}checked{% endif %}>
                                             <label class="btn btn-outline-danger" for="rsi_maximo" title="RSI ≥ Nivel Máximo (Overbought)">Máximo</label>
                                             
                                             <input type="radio" class="btn-check" name="rsi_sell_logic" id="rsi_descendente" value="rsi_descendente" 
                                                      {% if config.rsi_sell_logic == 'rsi_descendente' %}checked{% endif %}>
                                             <label class="btn btn-outline-danger" for="rsi_descendente" title="RSI cruza a la baja el Nivel Máximo">Decreciente</label>

                                             <input type="radio" class="btn-check" name="rsi_sell_logic" id="rsi_sell_none" value="None" 
                                                      {% if config.rsi_sell_logic == 'None' or config.rsi_sell_logic == '' or config.rsi_sell_logic is none %}checked{% endif %}>
                                             <label class="btn btn-outline-secondary" for="rsi_sell_none">Ninguna</label>
                                    </div>
                           </div>
                  </div>
         </div>
</div>