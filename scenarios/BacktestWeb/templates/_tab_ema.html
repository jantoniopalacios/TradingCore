<h2 class="mb-3">Parámetros de Medias Móviles Exponenciales (EMA)</h2>
<p class="alert alert-info">Define la señal de cruce y activa múltiples filtros de estado de forma simultánea para mayor flexibilidad.</p>

<div class="row">
    <div class="col-6 border-end">
        <h4 class="mb-3 text-primary">Configuración de Cruce de EMA</h4>
        
        <div class="row row-control align-items-center mb-4">
            <div class="col-7"><label for="ema_cruce_signal" class="form-check-label fw-bold">Activar Cruce (Fast > Slow):</label></div>
            <div class="col-3">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="ema_cruce_signal" name="ema_cruce_signal" value="True" 
                           {% if config.ema_cruce_signal == 'True' %}checked{% endif %}>
                </div>
            </div>
        </div>

        <div class="row row-control align-items-center mb-3">
            <div class="col-7"><label for="ema_fast_period" class="form-label">Período de EMA Rápida:</label></div>
            <div class="col-3">
                <input type="number" class="form-control" id="ema_fast_period" name="ema_fast_period" min="2" value="{{ config.ema_fast_period }}">
            </div>
        </div>

        <div class="row row-control align-items-center mb-4">
            <div class="col-7"><label for="ema_slow_period" class="form-label">Período de EMA Lenta:</label></div>
            <div class="col-3">
                <input type="number" class="form-control" id="ema_slow_period" name="ema_slow_period" min="2" value="{{ config.ema_slow_period }}">
            </div>
        </div>
    </div>

    <div class="col-6">
        <h4 class="mb-3 text-dark">Filtros de Estado (Lógica Aditiva)</h4>
        <p class="text-muted small">Puedes activar varias opciones. Funcionarán como señales OR para la entrada.</p>

        <h5 class="mt-4 text-success">Lógica de Compra</h5>
        <div class="row mb-2">
            <div class="col-6">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="ema_slow_minimo" name="ema_slow_minimo" value="True"
                           {% if config.ema_slow_minimo == 'True' %}checked{% endif %}>
                    <label class="form-check-label" for="ema_slow_minimo">Mínimo (Giro)</label>
                </div>
            </div>
            <div class="col-6">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="ema_slow_ascendente" name="ema_slow_ascendente" value="True"
                           {% if config.ema_slow_ascendente == 'True' %}checked{% endif %}>
                    <label class="form-check-label" for="ema_slow_ascendente">Ascendente</label>
                </div>
            </div>
        </div>

        <h5 class="mt-4 text-danger">Lógica de Venta / Bloqueo</h5>
        <div class="row">
            <div class="col-6">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="ema_slow_maximo" name="ema_slow_maximo" value="True"
                           {% if config.ema_slow_maximo == 'True' %}checked{% endif %}>
                    <label class="form-check-label" for="ema_slow_maximo">Máximo (Techo)</label>
                </div>
            </div>
            <div class="col-6">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="ema_slow_descendente" name="ema_slow_descendente" value="True"
                           {% if config.ema_slow_descendente == 'True' %}checked{% endif %}>
                    <label class="form-check-label" for="ema_slow_descendente">Decreciente</label>
                </div>
            </div>
        </div>
    </div>
</div>